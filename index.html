<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <!-- 2017-05-23 Tue 21:31 -->
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title></title>
    <meta name="generator" content="Org mode" />
    <meta name="author" content="Ross Donaldson" />
    <style type="text/css">
      <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
    </style>
    <script type="text/javascript">
      /*
      @licstart  The following is the entire license notice for the
      JavaScript code in this tag.

      Copyright (C) 2012-2017 Free Software Foundation, Inc.

      The JavaScript code in this tag is free software: you can
      redistribute it and/or modify it under the terms of the GNU
      General Public License (GNU GPL) as published by the Free Software
      Foundation, either version 3 of the License, or (at your option)
      any later version.  The code is distributed WITHOUT ANY WARRANTY;
      without even the implied warranty of MERCHANTABILITY or FITNESS
      FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

      As additional permission under GNU GPL version 3 section 7, you
      may distribute non-source (e.g., minimized or compacted) forms of
      that code without the copy of the GNU GPL normally required by
      section 4, provided you include this license notice and a URL
      through which recipients can access the Corresponding Source.


      @licend  The above is the entire license notice
      for the JavaScript code in this tag.
      */
      <!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
    </script>
  </head>
  <body>
    <div id="content">
      <div id="outline-container-org8463004" class="outline-2">
        <h2 id="org8463004">Hello There</h2>
        <div class="outline-text-2" id="text-org8463004">
          <p>
            So I've been thinking a lot about programming languages. I've gotten a little
            stuck, you see, because I do not feel like I've met the Best Language for Me.
            And what would it even mean if I had? "Best" is a difficult idea at the best
            (erk) of times, and besides &#x2013; in this bold world of software, aren't we all
            supposed to be polyglot "full stack" computer do-ers? Right language for the
            right task?
          </p>

          <p>
            Waugh.
          </p>

          <p>
            This repo, such as it is, is my attempt to think through what I want out of a
            language, or set of languages. Maybe it will also be useful to you? Here's to
            hope.
          </p>
        </div>
      </div>

      <div id="outline-container-orgfbd3237" class="outline-2">
        <h2 id="orgfbd3237">"For"-ness</h2>
        <div class="outline-text-2" id="text-orgfbd3237">
          <p>
            When I first started programming, I asked programmers of my acquaintance, "so
            what is &lt;language name&gt; for?" This had decidedly mixed results. A Perl
            programmer told me, "but what is any language <i>for</i>? Programming, obviously." A
            PHP developer once asserted to me that the only language you <i>really</i> needed to
            care about was PHP. I met a Java developer who told me Java was "for" replacing
            C++.<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>
          </p>

          <p>
            I gave up on this question for a very long time, but I've come back to it. A
            grounding anecdote: I used to work at a very good hardware store, where I was,
            briefly, responsible for the hammer aisle. We sold 112 different hammers <i>for
              nails</i>, and another 38 <i>not</i> for nails. The "for nails" category subdivided in a
            couple different ways &#x2013; for instance, the wide category of hammers for
            framing carpentry, typically distinguished by a heavier hammer head and longer
            shaft. In framing carpentry, you hit a <i>lot</i> of nails. Speed &#x2013; being able to
            drive a very large nail home with one strike &#x2013; is prized over precision;
            damage to the underlying lumber will be covered up by layers of finishing
            materials, so who cares if you drive the nail slightly too deep.
          </p>

          <p>
            A framing hammer is "for" framing. Is that the only thing you can do with it?
            No. Is a framing hammer the only kind of hammer you can frame with? Again, no.
            But if you are about to do some framing and thinking, "what kind of hammer
            should I get", the answer is definitely "framing hammer".
          </p>

          <p>
            R is "for" statistical programming and analysis. Can you do other stuff with it?
            Yes, definitely. JavaScript is "for" programming in the browser. Can you do an
            astonishing amount of other stuff with it? Yes, of course you can. In fact,
            increasingly, JavaScript seems to be becoming "for" making interfaces to much
            more complex systems.<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup> When I ask programmers what their favorite language is
            "for", I feel like what they're hearing is some kind of insult or limit &#x2013; as
            though I want to put Java in a box labeled "use only for X", as though I'm
            diminishing Java by saying "this is good for one thing." Not so. Good design is
            about knowing limits and acknowledging them. In my desire to be a capable modern
            developer, I want to know which tools to reach for, and when.
          </p>
        </div>
      </div>

      <div id="outline-container-org88aab5a" class="outline-2">
        <h2 id="org88aab5a">Developing a notion of "best"</h2>
        <div class="outline-text-2" id="text-org88aab5a">
          <p>
            "Best" is a messy, contextual idea. The first point of context here is called
            "Ross Donaldson". I am full of opinions about what I think makes a good
            programming language, and this project is fundamentally about satisfying
            myself. Any pronouncements of quality are <b>entirely</b> within the context of how
            well I, personally, am getting along with a language. For instance: I cannot
            abide Java. Incredible things are built in Java every day, and I have a lot of
            respect for Java developers, and if I never wrote another line of it I'd be
            happier.
          </p>

          <p>
            I think a lot of the "goodness" of a language, honestly, comes down to how a
            given developers thinks. Almost like poetry or fiction &#x2013; what makes sense to
            you? What makes your brain light up and get happy? I don't find C-style syntax
            to be particularly nice; I prefer prefix notation, and love lisps. I'm trying
            to be very laid back about this; I'd love to meet a new language that surprises
            and delights me.
          </p>

          <p>
            After rather a good deal of introspection, here's what I've been able to
            quantify about language goodness, for me:
          </p>
        </div>

        <div id="outline-container-org770f11c" class="outline-3">
          <h3 id="org770f11c">Important to me:</h3>
          <div class="outline-text-3" id="text-org770f11c">
          </div><div id="outline-container-org1308139" class="outline-4">
            <h4 id="org1308139">Expressive</h4>
            <div class="outline-text-4" id="text-org1308139">
              <p>
                I overwhelmingly prefer concise to verbose. Scala is vastly preferable to Java
                in my eyes, and Clojure is even better. I'm not interested in hundreds of lines
                of ceremony just to create or assign a new variable. I don't want to build a new
                class just to define and call a function. Thanks.
              </p>
            </div>
          </div>

          <div id="outline-container-org41cdcf1" class="outline-4">
            <h4 id="org41cdcf1">Functional</h4>
            <div class="outline-text-4" id="text-org41cdcf1">
              <p>
                For a lot of reasons, I vastly prefer my languages functional. I find classes
                to be an unwieldy abstraction in most cases, and if I can't pass or return a
                function in a language I'm just not interested. I would always rather write a
                system of verbs than a system of nouns.
              </p>
            </div>
          </div>

          <div id="outline-container-orge72b466" class="outline-4">
            <h4 id="orge72b466">Typed</h4>
            <div class="outline-text-4" id="text-orge72b466">
              <p>
                I'm alarmed to admit that I like type systems. My favorite type systems do
                rather a lot of inference; the very nicest are entirely optional. Type systems
                <i>can</i> be an awful drawback for a language; much as I enjoy Scala, the type
                system&#x2026; can be much, much too heavy.
              </p>

              <p>
                I'd love to find a language with either a static or gradual type system. I don't
                care if it enters the runtime, but I'd love to be able to document the inputs
                and outputs of a function clearly.
              </p>
            </div>
          </div>

          <div id="outline-container-orga727c85" class="outline-4">
            <h4 id="orga727c85">Run-Time</h4>
            <div class="outline-text-4" id="text-orga727c85">
              <p>
                A language needs to have a run-time that matches its use case. Clojure is, for
                me, the essential example. To run Clojure, one must run a JVM. If one is
                writing an application &#x2013; say, a web server &#x2013; the five-or-maybe-a-hundred
                seconds it takes to spin up even a modest JVM is just fine. But if you've
                written a CLI, those seconds are intolerable &#x2013; not to mention the outrageous
                resource requirements. Imagine if <code>grep</code> took 40 seconds and a gig of RAM to run
                on even the tiniest files. Yeah.
              </p>
            </div>
          </div>

          <div id="outline-container-orgedf76ae" class="outline-4">
            <h4 id="orgedf76ae">Approximately as high level as possible</h4>
            <div class="outline-text-4" id="text-orgedf76ae">
              <p>
                You know what I never ever want to do if I don't have to? Manual memory
                management. In fact, there's a tremendous list of problems, of wheels that I do
                not want to have to re-invent. Writing my own CSV parser. Performing <code>GET</code>
                requests. <i>Ugh</i>. But also, in some sense this idea captures for me the notion
                of a rich standard library. I mean, I <i>could</i> implement my own socket handling,
                TCP/IP, web sockets, etc &#x2013; but in most cases, I'd really rather not.
              </p>
            </div>
          </div>

          <div id="outline-container-orge08e281" class="outline-4">
            <h4 id="orge08e281">Solidly Usable in my Workflow</h4>
            <div class="outline-text-4" id="text-orge08e281">
              <p>
                I already write a lot of code. I'm in Emacs all day, every day, unless I'm in my
                terminal. Learning new build tools or package managers is expected; learning a
                new IDE is not.
              </p>
            </div>
          </div>

          <div id="outline-container-orgc6767ec" class="outline-4">
            <h4 id="orgc6767ec">First-class documentation</h4>
            <div class="outline-text-4" id="text-orgc6767ec">
              <p>
                Docs are so, so, so important, and they belong with your source code, not in
                some external vault. First class support for documentation strings (a la
                Clojure and Python) is, in my opinion, nearly indispensable. If you don't have
                some docstring mechanism, you'd better have something else nice.
              </p>
            </div>
          </div>

          <div id="outline-container-org85b3aac" class="outline-4">
            <h4 id="org85b3aac">Comprehensible tooling</h4>
            <div class="outline-text-4" id="text-org85b3aac">
              <p>
                It's at this point that I start fearing I'm asking for Too Much, but it's
                important: the tooling and ecosystem around a language shapes a huge amount of
                your experience of that language. Python packaging? Awful. And tell me: what's
                the <i>right</i> way to package JavaScript? Java does very well here &#x2013; you could use
                maven or gradle or ant <i>and they will all work just fine</i>. In the world in which
                I would like to live, languages will have decent tools available &#x2013; linters and
                whatever build tools are needed. I would like that.
              </p>
            </div>
          </div>

          <div id="outline-container-org67a8c12" class="outline-4">
            <h4 id="org67a8c12">Actively Maintained</h4>
            <div class="outline-text-4" id="text-org67a8c12">
              <p>
                At this point, I don't have the wherewithal to write my own language or
                contribute to the maintenance of one myself. Using something with a community
                behind it is a must.
              </p>
            </div>
          </div>

          <div id="outline-container-org7958d68" class="outline-4">
            <h4 id="org7958d68">REPL</h4>
            <div class="outline-text-4" id="text-org7958d68">
              <p>
                God I adore having a REPL or interactive session available.
              </p>
            </div>
          </div>
        </div>

        <div id="outline-container-org78842cf" class="outline-3">
          <h3 id="org78842cf">Nice if I can get it:</h3>
          <div class="outline-text-3" id="text-org78842cf">
          </div><div id="outline-container-org9a8543e" class="outline-4">
            <h4 id="org9a8543e">Performant</h4>
            <div class="outline-text-4" id="text-org9a8543e">
              <p>
                Who doesn't love a thing that doesn't take all day to run?
              </p>
            </div>
          </div>

          <div id="outline-container-org304fc31" class="outline-4">
            <h4 id="org304fc31">Concurrency Model</h4>
            <div class="outline-text-4" id="text-org304fc31">
              <p>
                Manually starting threads is great and all, but we can do a <span class="underline">lot</span> better. Actor
                model? Agent model? Sensible message passing implementation?
              </p>
            </div>
          </div>

          <div id="outline-container-org9ea8228" class="outline-4">
            <h4 id="org9ea8228">Clear</h4>
            <div class="outline-text-4" id="text-org9ea8228">
              <p>
                I adore it when a language isn't hard to understand even if you don't speak it.
                Consider:
              </p>

              <div class="org-src-container">
                <pre class="src src-python">for x in range(10):
                  print(x**x)
                </pre>
              </div>

              <p>
                You might not know all the fussy little python details about that block without
                learning them, but it's not hard to apprehend what it's up to.
              </p>
            </div>
          </div>

          <div id="outline-container-org79b47c8" class="outline-4">
            <h4 id="org79b47c8">Portable</h4>
            <div class="outline-text-4" id="text-org79b47c8">
              <p>
                This is an odd one for me, because I don't generally write software that gets
                distributed on my own time. And yet: I still care about it. I don't feel overly
                concerned if, say, someone has to install an easily-available piece of software
                to run my code. But if the setup to get the code running at all is convoluted,
                I'm not even going to want to do it on my own two computers.
              </p>
            </div>
          </div>

          <div id="outline-container-org5cbb216" class="outline-4">
            <h4 id="org5cbb216">FFI</h4>
            <div class="outline-text-4" id="text-org5cbb216">
              <p>
                Maybe the most optional single thing on here, but dang it'd be handy to have a
                clear way to do FFI.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div id="outline-container-orgd0da807" class="outline-2">
        <h2 id="orgd0da807">So where am I starting?</h2>
        <div class="outline-text-2" id="text-orgd0da807">
          <p>
            I think of myself as a Clojure developer. I've written a lot of Scala and a lot
            of Python and a mid-sized pile of Java. I like JVMs just fine for running
            applications and a lot less for CLIs and scripting. Most of my CLI writing so
            far has been in Python or R. Python is&#x2026; good, but doesn't delight me.
            (Packaging is awful and it's Just Too Imperative).
          </p>

          <p>
            One way or the other, I feel like I've got a lovely application language
            (Clojure), but lack a compelling scripting and CLI language.
          </p>
        </div>
      </div>

      <div id="outline-container-orgf86138a" class="outline-2">
        <h2 id="orgf86138a">How Evaluation Formed?</h2>
        <div class="outline-text-2" id="text-orgf86138a">
          <p>
            So I want a good CLI language. Now what?
          </p>

          <p>
            My intention is to try writing three little programs in each of a small pile of
            languages, and see what the experience is like. What's testing like? How
            onerous is documentation? Is the thing awful to install or run? Note that I'm a
            professional data-wrangler, so these scripts capture common tasks for me.
          </p>

          <p>
            For each language, I'll try to write:
          </p>

          <ol class="org-ol">
            <li>Summarize a CSV &#x2013; sum a column, summary statistics, something like that</li>
            <li>Hit a REST API and handle the result</li>
            <li>Munge date-times and phone numbers in a CSV &#x2013; for instance, converting a
              non-ISO format to ISO, or parsing milli timestamps</li>
          </ol>

          <p>
            And I'll try to wrap each set of three in a little CLI, for argument parsing
            and flag handling. We'll see how far I get; the point is to evaluate a language,
            so if I find disagreeable parts early, I'll probably just&#x2026; stop.
          </p>

          <p>
            I don't have any particular system in mind for deciding which languages to do
            this with. Some things, like a language being imperative, usually wont stop me
            from trying things out; other things, like awful documentation, might. To be
            honest, I'm also unlikely to spend much time on any language my editor cant
            easily provide basic syntax highlighting and indentation support for &#x2013; but my
            editor is Emacs so I should, for the most part, be OK.
          </p>
        </div>

        <div id="outline-container-org21bac70" class="outline-3">
          <h3 id="org21bac70">Reference Implementation</h3>
          <div class="outline-text-3" id="text-org21bac70">
            <p>
              I've also knocked together a reference implementation in Clojure. I want to use
              this to reference a couplefew things:
            </p>

            <ol class="org-ol">
              <li>How much code does it take to get some of these things done in other
                languages?</li>
              <li>How fast do other languages run compared to what I'm used to on the JVM?</li>
            </ol>

            <p>
              A weird note: in my reference impl, I use a wrapper around Java's <code>joda-time</code> for
              parsing. It has to handle a peculiar edge-case, like so:
            </p>

            <div class="org-src-container">
              <pre class="src src-clojure">(defn parse-dt
                [dt-str]
                (try
                (time-format/parse parse-many dt-str)
                (catch org.joda.time.IllegalInstantException e
                (.. (time-format/parse-local parse-many dt-str)
                (plusHours 3)
                (toDateTime)))))
              </pre>
            </div>

            <p>
              <code>IllegalInstantException</code> can be thrown because some of my randomly generated
              times fall on 2017-03-22, which is daylight savings time; Joda refuses to guess
              how we want to represent certain times of day. (E.G.: 2017-03-22 02:12:00 never
              actually happened, because we'd have skipped from 1am directly to 3am.)
            </p>

            <p>
              It'll be interesting to see how other libraries handle this.
            </p>
          </div>
        </div>
      </div>
      <div id="outline-container-org1ac154f" class="outline-2">
        <h2 id="org1ac154f">Compiles to JavaScript</h2>
        <div class="outline-text-2" id="text-org1ac154f">
          <p>
            I've been thinking about this line so much lately: "compiles to JavaScript".
            It's become common as hell. Some languages target JavaScript exclusively
            (PureScript), but the list of things that will generate JS for you is getting
            bewildering. My own dear Clojure has ClojureScript; nim will go to JS. An
            astonishing number of languages will let you go to JS.
          </p>

          <p>
            So on the one hand, this seems good! Node gives JS a systems runtime you can
            install damn near anyplace, not to mention running your code in browsers.
          </p>

          <p>
            And on the other hand: I have not been able to decide how excited I am to have
            to learn Node and the JS ecosystem <i>on top</i> of whatever other languages I look
            at. There's something about trying to write two languages at once that just
            sounds&#x2026; well. Let's consider two different things one could do:
          </p>

          <p>
            You could decide to use ClojureScript to write a JS front end for a web server.
          </p>

          <p>
            You could decide to use ClojureScript to write a script that collects CSVs off
            a set of remote servers and summarizes them.
          </p>

          <p>
            In the first example: you're already setting out to the land of JS. You're
            probably going to have a very nice time. But in the second, JS, Node, is
            incidental &#x2013; it's like having to reason about generated C code. All you're
            doing is increasing the incidental complexity of a task, and that's exactly
            what I'd like to avoid. But who knows &#x2013; maybe it's not actually that complex?
            We'll see.
          </p>
        </div>
      </div>

      <div id="outline-container-orgf3ab47c" class="outline-2">
        <h2 id="orgf3ab47c">The Languages</h2>
        <div class="outline-text-2" id="text-orgf3ab47c">
        </div><div id="outline-container-org8da7994" class="outline-3">
          <h3 id="org8da7994"><a href="http://nim-lang.org">nim</a></h3>
          <div class="outline-text-3" id="text-org8da7994">
            <p>
              Statically typed and pseudo-imperative, with an emphasis on its hygienic macro
              system and compiler optimizations. Tastes like somebody couldn't chose between
              Python and Haskell and just doing it in C, so rolled the three together. Might
              be way more of a system's language than I really want.
            </p>

            <p>
              <code>nim</code> is on the one hand relatively easy to read, and on the other, has a wide
              variety of peculiarities. For instance: procedures have an implicit <code>result</code>
              variable, and while <code>nim</code> will manage a lot of memory for you, it will also let
              you get up to your elbows in heap and pointers. I can see how this would excite
              someone who wanted to take a lot less time writing C; I'm not sure I'm in to
              it.
            </p>

            <p>
              The docs would have you think that rather than being Object-Oriented, <code>nim</code>
              embraces <i>procedural</i> programming. A Procedure is <code>nim</code>'s equivalent of a function.
              Intriguing.
            </p>

            <p>
              Gotta be honest: so far, a few hours of research in to this language have made
              me feel a little squeamish about doing anything with it at all, but I'm gonna
              give it a go.
            </p>
          </div>

          <div id="outline-container-org66165b2" class="outline-4">
            <h4 id="org66165b2">Toolchain</h4>
            <div class="outline-text-4" id="text-org66165b2">
              <ul class="org-ul">
                <li>nim, the compiler</li>
                <li>nimble, the package manager</li>
                <li>nimsuggest, a suggestion backend for IDEs</li>
                <li>Emacs major mode with
                  <ul class="org-ul">
                    <li>company backend</li>
                    <li>org-babel support</li>
                </ul></li>
                <li><b>No. REPL.</b> Eek.</li>
              </ul>
            </div>
          </div>

          <div id="outline-container-org14e1292" class="outline-4">
            <h4 id="org14e1292">Notes:</h4>
            <div class="outline-text-4" id="text-org14e1292">
              <ul class="org-ul">
                <li>There's a brew installer, but it's a release behind; mostly they seem to
                  target Windows? *nix installation is pretty manual, and inexplicably doesn't
                  include <code>nimble</code>, the package manager. (Later I have found <code>nim</code> is, in fact,
                  install-able via brew.)</li>
                <li>Instructions for installing nim-mode for emacs suggest installing <code>nimsuggest</code>,
                  which one clones and performs a <code>nimble build</code> on. This installs an entirely
                  different version of the compiler than you just installed in the previous
                  step, but also fails to provide a <code>nimsuggests</code> binary anywhere useful (the
                  binary winds up in the root of the git repo. Cool.)</li>
                <li>An hour after I decided to try and write some Nim I think I have <b>finally</b>
                  gotten stuff installed at all?</li>
                <li>Compiles to highly optimized C, making binaries pretty effing portable.</li>
                <li><code>block</code> statement introduces a new scope; interesting</li>
                <li><code>nim</code> "achieves functional programming techniques", which means functions
                  are&#x2026; well not first class, but not second class either. It's weird.</li>
                <li>Boy they have a hellova macro system. Geeze.</li>
                <li>There's a note in their "probably out of date" tutorial that just sort of
                  says "oh btw you can compile to JavaScript". Intriguing.</li>
                <li>Compiling and installing a local binary is "baked in" to the language at a
                  pretty deep level, which is, honestly?, really nice. Especially given the
                  compiles-to-C approach, this actually makes <code>nim</code> smell like a scripting
                  language I could get behind.</li>
                <li>Holy christ: <a href="http://nim-lang.org/docs/theindex.html">this documentation index</a>.</li>
                <li>Cannot parse datetimes with a colon in the offset</li>
                <li>No meaningful regex support; provides a PEG implementation. Not at all
                  convinced I want to clamber around with that. Neat :P</li>
                <li>No support for <code>GET</code> params. Really unclear support for <code>POST</code> params. All
                  headers have to be written manually.</li>
              </ul>
            </div>
          </div>

          <div id="outline-container-orgadb9fb0" class="outline-4">
            <h4 id="orgadb9fb0">Conclusion</h4>
            <div class="outline-text-4" id="text-orgadb9fb0">
              <p>
                Fast as hell. Full of neat ideas, if you're a capable C programmer who wants
                something a little shorter. Not ready for prime time. Lotsa rough bits in
                places I care about. Calling it early: nope.
              </p>
            </div>
          </div>
        </div>

        <div id="outline-container-org8b8fd8b" class="outline-3">
          <h3 id="org8b8fd8b"><a href="https://www.rust-lang.org/">Rust</a></h3>
          <div class="outline-text-3" id="text-org8b8fd8b">
            <p>
              This seems friendly as hell.
            </p>

            <p>
              Also there are nearly three thousand open github issues.
            </p>

            <p>
              Also it has taken most of <i>Return of the Jedi</i> to install. It has in fact taken
              so long that I started trying to grok F#.
            </p>

            <p>
              Rust has take then full length of <i>Return of the Jedi</i> to get in to a passable
              state. I probably should have installed via brew. JFC.
            </p>

            <p>
              We're&#x2026; gonna come back to this if I have time. Holy hell.
            </p>
          </div>
        </div>

        <div id="outline-container-org188c1ff" class="outline-3">
          <h3 id="org188c1ff"><a href="http://fsharp.org/">F#</a></h3>
          <div class="outline-text-3" id="text-org188c1ff">
            <p>
              I have to admit &#x2013; and I do not know why this is &#x2013; I've gotten <i>really</i> curious
              about F#. In the materials published by the F# organization, it comes up over
              and over again as a language for working with data.
            </p>

            <p>
              Since the first pass &#x2013; which was late at night and not done with the most, uh,
              <i>attention</i> &#x2013; I've found better information on getting going with F# on OSX.
              Let's try this&#x2026; again.
            </p>
          </div>

          <div id="outline-container-org5c6a240" class="outline-4">
            <h4 id="org5c6a240">Installation</h4>
            <div class="outline-text-4" id="text-org5c6a240">
              <p>
                F# wants you to use a baked-in version in either Visual Studio or Xamarin
                Studio. I want none of this. Instead, we do:
              </p>

              <div class="org-src-container">
                <pre class="src src-sh">brew install mono
                </pre>
              </div>

              <p>
                <code>mono</code> is an open-source version of the .NET framework, and comes with C# baked
                in as well. Okay. Fine so far.
              </p>

              <p>
                From here, we find the <a href="http://fsharp.org/guides/mac-linux-cross-platform/">Cross Platform Guide</a>, which points us to a project
                management tool called <code>forge</code>. So far, so good. We can get it with:
              </p>

              <div class="org-src-container">
                <pre class="src src-sh">brew tap samritchie/forge &amp;&amp; brew install forge
                </pre>
              </div>

              <p>
                Note: this will install version 0.7, which is current as of four months ago (I
                <b>believe</b> forge is nearing it's 1.0 release). Great. Doing fine there, too.
              </p>

              <p>
                Next is NuGet, the F# package manager. We add its SSL cert, do a little
                curling, and thennnnnnn. Well. And then some utility scripting needs to happen.
              </p>

              <div class="org-src-container">
                <pre class="src src-sh">sudo mozroots --import --sync
                  curl -L http://nuget.org/nuget.exe -o nuget.exe
                </pre>
              </div>

              <p>
                So this, also, not too bad. NuGet has to run with <code>mono</code>, so let's wrap it:
              </p>

              <div class="org-src-container">
                <pre class="src src-sh">#!/bin/bash

                  NUGGET_EXE=/Users/gastove/opt/nuget.exe

                  mono "$NUGGET_EXE" "$@"
                </pre>
              </div>

              <p>
                Good. Okay.
              </p>
            </div>
          </div>

          <div id="outline-container-org7120553" class="outline-4">
            <h4 id="org7120553">Impressions thus far</h4>
            <div class="outline-text-4" id="text-org7120553">
              <p>
                This is a <b>big</b> ecosystem of different tools, and they work&#x2026; in a wide variety
                of ways. <code>forge</code>, for instance, wants to read (shudder) XML, and can
                automatically install packages with NuGet &#x2013; but NuGet reads a JSON config
                file. Ergm. Okay.
              </p>

              <p>
                Perhaps my biggest challenge thus far is just how <i>differently</i> these tools think
                than the ones I'm used to. For instance, the Mac Cross-Platform docs on
                fsharp.org casually mention:
              </p>

              <blockquote>
                <p>
                  It is quite common to check a copy of NuGet.exe into a project, e.g. in lib/NuGet/NuGet.exe.
                </p>
              </blockquote>

              <p>
                Which feels pretty <i>ohmygodwhut</i> to this linux developer. Binaries! In! Version!
                Control! Why!? How!?!?
              </p>
            </div>
          </div>

          <div id="outline-container-org0146cc3" class="outline-4">
            <h4 id="org0146cc3">Actually figuring out how to write F#</h4>
            <div class="outline-text-4" id="text-org0146cc3">
              <p>
                Now we get to what is, for me, one of the weirdest parts so far: I can find
                almost 0 cohesive text on how to actually <i>write</i> F#. There's a whole pile of
                stuff under the heading "Learn" on fsharp.org, but the execution is
                bewildering. There's tryfsharp.org, which wants to teach you interactively in a
                site that requires Microsoft Silverlight, which is <a href="https://support.microsoft.com/en-us/kb/3058254">no longer compatible with
                  Chrome &gt; 44</a>. There's a blog dedicated, at least in theory, to the concept of
                "F# for C/Java/Python Developers", but it mostly seems like it wants to make
                the <i>case</i> for F#, not actually teach it. You can buy books on F#; I am not sure
                I want to buy a book just yet. (Also, <span class="underline">Beginning F# 4.0</span> costs &#x2013; wait for it &#x2013;
                $32 for the ebook? Compare-and-contrast with the PureScript book, which is
                pay-what-you-want and capped at $20.)<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup>
              </p>

              <p>
                <a href="http://dungpa.github.io/fsharp-cheatsheet/">The F# Cheat Sheet</a> is pretty useful, but so far <a href="http://www.tryfsharp.org">www.tryfsharp.org</a> is the most
                promising. So I guess I will turn on Firefox and install Silverlight? Jesus
                this is weird.
              </p>
            </div>
          </div>

          <div id="outline-container-org5b701d9" class="outline-4">
            <h4 id="org5b701d9">An Interlude of Good News</h4>
            <div class="outline-text-4" id="text-org5b701d9">
              <p>
                Y'all, F# is a <i>lovely</i> language. Compelling as heck. I wanna figure this out. It
                seems to have data work in its bones.
              </p>
            </div>
          </div>

          <div id="outline-container-org9e80157" class="outline-4">
            <h4 id="org9e80157">A Bewilderment of Tools</h4>
            <div class="outline-text-4" id="text-org9e80157">
              <p>
                So Try F# is good and now I have a taste of the language and I want to write
                some. In particular, I want to F#'s incredible-seeming "type provider"
                mechanism, particularly the <a href="http://fsharp.github.io/FSharp.Data/">Data</a> type providers. They don't come baked in, so
                I need to install them.
              </p>

              <p>
                Okay.
              </p>

              <p>
                First I try <code>nuget install</code>. This gets me a directory, saved within whichever
                directory I called <code>nuget install</code> from, into which <code>FSharp.Data</code> has been
                installed (plus another dir for <code>Zlib</code>). I can't figure out how to use this
                anyplace. Neat. Good. Next idea.
              </p>

              <p>
                I notice that <code>forge</code> has created a bunch of <code>paket</code> files &#x2013; most interestingly,
                <code>paket.dependencies</code>. A quick googling indicates <code>paket</code> is an even-more-different
                package manager for F#, providing much better management for things like
                transitive dependencies. This seems good. I add <code>nuget FSharp.Data</code> to my
                <code>paket.dependencies</code>, and set about trying to call <code>paket</code>. It once again works
                <i>real weird</i> on linux:
              </p>

              <div class="org-src-container">
                <pre class="src src-sh">mono .paket/paket.exe install
                </pre>
              </div>

              <p>
                This installs <code>FSharp.Data</code>, but not in a way that is usable. I set off to the
                <a href="https://fsprojects.github.io/Paket/index.html">Paket documentation</a> and begin learning a few strange things:
              </p>

              <ol class="org-ol">
                <li>I can convert a NuGet project to a paket project with a baked in command.</li>
                <li>F# makes the assumption that you'll have one <i>repository</i> with many <i>projects</i>
                  inside of it. Each project needs to declare it's own deps, via a
                  <code>paket.references</code> file. This file will be generated automatically from the
                  NuGet <code>package.config</code>.</li>
                <li>Or it <i>would</i> be generated automatically, if the <code>forge</code> template didn't name
                  the config file <code>App.config</code>, which <code>paket</code> cannot correctly convert. You'll
                  wanna rename that.</li>
                <li>Which <i>also</i> means you need to remove <code>App.config</code> from the <code>.fsproj</code> file XML.
                  Otherwise compilation will fail.</li>
              </ol>

              <p>
                Also: the <code>forge</code> docs seem to suggest you should do something like <code>forge --dir
                  src --name ProjectName --template app</code>. This will make you a reasonable src dir,
                plus a lot of extra stuff, plus initialized <code>paket</code> things. But, it will <i>not</i>
                create your <code>paket.references</code> (which I think is still needed), and you'll need
                to run <code>paket</code> with <code>--force</code> to get everything working the first time.
              </p>

              <p>
                Now all you have to do is manually add <code>FSharp.Data</code> to your <code>paket.references</code> and
                you can go pass out quietly in a corner and think fond thoughts about
                leiningen.
              </p>

              <p>
                Oh, and another thing: every example of using <code>FSharp.Data</code> opens with some
                version of this line:
              </p>

              <div class="org-src-container">
                <pre class="src src-fsharp">#r "FSharp.Data"
                </pre>
              </div>

              <p>
                This will immediately explode when you put it in a file. The <code>#r</code> form is allowed
                <i>only</i> in interactive F#. For standard F# files (files with the <code>.fs</code> extension),
                what you want is:
              </p>

              <div class="org-src-container">
                <pre class="src src-fsharp">open FSharp.Data
                </pre>
              </div>

              <p>
                Whew.
              </p>

              <p>
                <span class="timestamp-wrapper"><span class="timestamp">&lt;2016-06-27 Mon&gt; </span></span> I have learned of <code>fsproj</code> files. These are XML build specs that
                control how the compiler builds your code together. Being an XML file, it's
                very difficult to intuit how to operate it. Glee.
              </p>

              <p>
                <i>But wait!</i> There's a tool for this, too: <a href="http://fsprojects.github.io/Projekt/">Projekt</a>. Good. Fine. More tools. (It is
                at this point, I confess, tempting to try and write yet another tool to tie
                this whole works together. And also that seems like a Yet Another Standard
                problem :/)
              </p>
            </div>
          </div>

          <div id="outline-container-orgce1eb03" class="outline-4">
            <h4 id="orgce1eb03">First Coding: the CSV cleaner</h4>
            <div class="outline-text-4" id="text-orgce1eb03">
              <p>
                With all this assembled, what is it like to actually write some F#? Let's rock.
              </p>

              <p>
                First step: CSV cleaning. A <i>big</i> part of F#'s draw for me is the <a href="http://fsharp.github.io/FSharp.Data/index.html">FSharp.Data</a>
                package, and getting it going is easy as can be:
              </p>

              <div class="org-src-container">
                <pre class="src src-fsharp">open FSharp.Data

                  let csvPath = "/Users/gastove/Code/language-tour/data-generator/2016-06-16_random_data.csv"

                  type DemoRecord = CsvProvider&lt;"/Users/gastove/Code/language-tour/data-generator/2016-06-16_random_data.csv", Separators="|", Schema="Date,PhoneNumber"&gt;

                  let data = DemoRecord.Load(csvPath)
                  let firstRow = data.Rows |&gt; Seq.head
                  let firstDate = firstRow.Date
                  let firstPn = firstRow.PhoneNumber
                </pre>
              </div>

              <p>
                The <code>CsvProvider</code> seen in action here is a "type provider", and it's doing a
                <i>bunch</i> of heavy lifting under the covers. Specifically, it's reading the first
                thousand lines of the file and trying to correctly assign each column a type.
                Some notes about this:
              </p>

              <ul class="org-ul">
                <li>It has some pretty odd behaviors with underscores &#x2013; the column named
                  <code>phone_number</code> became a an attribute called <code>Phone_number</code>. The <code>Schema</code>
                  declaration is entirely to adjust this.</li>
                <li>Half the CSV parsing battle in this file is cleaning up the three different
                  date formats<sup><a id="fnr.4" class="footref" href="#fn.4">4</a></sup> in the Date column. F# correctly identified that column as
                  a date <i>and correctly parsed each format</i>. Holy damn.</li>
                <li>Note that we pass the same string two places. The <i>intention</i> here is that you
                  can separate the <i>analysis</i> of a CSV from its parsing &#x2013; so the type provider
                  could be constructed with a short data sample and then be used to load N
                  data sources of same schema. This is neat, but also: the type provider's
                  constructor cannot accept a file path passed in an identifier (e.g.
                  <code>csvPath</code>) &#x2013; it <i>has</i> to receive a string literal and I do not know why.<sup><a id="fnr.5" class="footref" href="#fn.5">5</a></sup></li>
              </ul>
            </div>
          </div>

          <div id="outline-container-org6513368" class="outline-4">
            <h4 id="org6513368"><span class="timestamp-wrapper"><span class="timestamp">&lt;2016-06-16 Thu&gt; </span></span> The First Pass</h4>
            <div class="outline-text-4" id="text-org6513368">
              <p>
                Pro: seems mature!
              </p>

              <p>
                Con: oh god Microsoft products this is weird as shit.
              </p>

              <p>
                Now that I've installed <code>mono</code> and used it to build and run the F# package
                manager, I've also run the F# koans. Which go like this:
              </p>

              <pre class="example">
                gastove@concordance  ~/Code/open-source/FSharpKoans on fsharp[!]
                $ mono FSharpKoans/bin/Debug/FSharpKoans.exe


                about asserts:
                AssertExpectation failed.



                You have not yet reached enlightenment ...
                Expected: 2
                But was:  "FILL ME IN"


                Please meditate on the following code:
                at NUnit.Framework.Assert.That (System.Object actual, IResolveConstraint expression, System.String message, System.Object[] args) &lt;0x1067cb790 + 0x00122&gt; in &lt;filename unknown&gt;:0
                at NUnit.Framework.Assert.AreEqual (System.Object expected, System.Object actual) &lt;0x1067cb200 + 0x00032&gt; in &lt;filename unknown&gt;:0
                at FSharpKoans.Core.Helpers.AssertEquality[a,b] (FSharpKoans.Core.a x, FSharpKoans.Core.b y) &lt;0x1067cb1a0 + 0x00044&gt; in &lt;filename unknown&gt;:0
                at FSharpKoans.about asserts.AssertExpectation () &lt;0x1067cb160 + 0x0001f&gt; in &lt;filename unknown&gt;:0
                at (wrapper managed-to-native) System.Reflection.MonoMethod:InternalInvoke (System.Reflection.MonoMethod,object,object[],System.Exception&amp;)
                at System.Reflection.MonoMethod.Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture) &lt;0x105a1bcc0 + 0x000a3&gt; in &lt;filename unknown&gt;:0




                Press any key to continue...
              </pre>

              <p>
                Also, frankly, I can't find any other coherent "getting going with this
                language" guides and I have no interest in buying a book. So that's fine. And
                enough F# for me. Jesus.
              </p>

              <p>
                In conclusion: while F# cheerfully tells you it is multi-platform, I can't find
                a coherent story for how to get it up and ticking on Linux. This might be fine
                if running a compiled binary was wicked easy &#x2013; but I can't find any evidence
                of that either. Putting this in my back pocket for if I ever need to develop
                professionally on Windows.
              </p>
            </div>
          </div>
        </div>

        <div id="outline-container-orgf83834c" class="outline-3">
          <h3 id="orgf83834c"><a href="https://racket-lang.org/">Racket</a></h3>
          <div class="outline-text-3" id="text-orgf83834c">
            <p>
              Ah. Racket. Gah, I have such mixed feels.
            </p>

            <p>
              Racket wants you to use it for things. It is kind and well thought out. The
              standard library is ginormous and pretty parts-complete, and for those few
              things that need an external library, they mostly seem to be available.
            </p>

            <p>
              It has functions to parse a CSV; it has functions to call a procedure on every
              line of a CSV. It has support for PCRE. Via a third-party library you get CLDR
              date parsing. It's mature. The online documentation is <b>gorgeous</b>. It has a REPL!
              And pretty nice Emacs tooling.
            </p>

            <p>
              And.
            </p>

            <p>
              Something about it&#x2026; I don't get. The entire notion of a <i>project</i>, of how you
              go from single files to to a well-ordered application, doesn't&#x2026; seem to
              click. You get the surprising power of <a href="https://docs.racket-lang.org/scribble/">Scribble</a>, the Racket documentation tool.
              But: Scribble is your only option. There are no doc strings. There's no
              especially clear way to document an <i>application</i>. It supports a bajillion
              different programming ideas, but the logic of how they should go together
              doesn't&#x2026; It just doesn't <i>click</i>, for me. At least, not yet.
            </p>

            <p>
              Also true: it can be totally overwhelming in its presentation of information
              about a thing.
            </p>

            <p>
              And performance is a little unclear. Nim takes just over three seconds to count
              the ten million lines of the test csv; racket, straight up, takes almost a
              minute. Bizarrely, pre-compiling this doesn't seem to have&#x2026; <i>any effect</i>. Neat.
              The deploy story is unclear; distribution is unclear.
            </p>

            <p>
              I just do not know what to make of this language.
            </p>
          </div>
        </div>


        <div id="outline-container-org0450ad8" class="outline-3">
          <h3 id="org0450ad8">ClojureScript</h3>
          <div class="outline-text-3" id="text-org0450ad8">
          </div><div id="outline-container-org2c13c66" class="outline-4">
            <h4 id="org2c13c66">Introduction</h4>
            <div class="outline-text-4" id="text-org2c13c66">
              <p>
                I'm a Clojure developer. I want to escape the JVM. The elephant in the room,
                then, is ClojureScript. What's like Clojure but isn't Java? You get the idea.
              </p>

              <p>
                I've resisted ClojureScript. Frankly, I'm not perfectly sure <i>why</i>. Something
                about the added complexity of <a href="#org1ac154f">Compiles to JavaScript</a> has made me squeamish. And,
                it's not like JS is known for a) it's dazzling type system, or b) it's stunning
                performance.
              </p>

              <p>
                And yet! And yet. Let's consider both points for a moment.
              </p>
            </div>

            <ul class="org-ul"><li><a id="orgc5d2849"></a>Types<br /><div class="outline-text-5" id="text-orgc5d2849">
                  <p>
                    So I like being able to annotate my types; I'd like to get an error when they
                    don't line up. One doesn't usually think "JavaScript" when one thinks
                    sophisticated type systems; instead, one thinks Haskell or Scala.
                  </p>

                  <p>
                    But here's the thing: types don't really have to enter the runtime, for my
                    purposes. I'd be perfectly content with a gradual or optional type system, <i>a la</i>
                    Racket. I love this <a href="https://www.youtube.com/watch?v=JBmIQIZPaHY">talk</a> between Matthias Felleisen and Gilad Bracha; they argue
                    between themselves that the point of a type system is for the user, primarily
                    for documentation. This idea moves me.
                  </p>

                  <p>
                    And: Clojure <i>has</i> something like an optional type system now, in its
                    new <a href="https://clojure.org/about/spec">clojure.spec</a> library. We've gained the ability to indicate and enforce the
                    shape we expect our data to take. So who cares if those types don't enter the JS
                    runtime? I don't think the answer is me.
                  </p>
              </div></li>

              <li><a id="org736dd9e"></a>Performance<br /><div class="outline-text-5" id="text-org736dd9e">
                  <p>
                    There's a <b>lot</b> of energy being put in to JavaScript &#x2013; from V8 to the Closure
                    library. It seems perfectly plausible to me that JS performance could be a lot
                    less of a thing than I'd wondered about. Now: I've got no clue what the
                    concurrency model is like. We're gonna have to see how this goes. But, it just
                    doesn't seem like this is a reason not to try it!
                  </p>

                  <p>
                    Let's get rolling.
                  </p>
            </div></li></ul>
          </div>

          <div id="outline-container-org9aefae5" class="outline-4">
            <h4 id="org9aefae5">Getting started</h4>
            <div class="outline-text-4" id="text-org9aefae5">
              <p>
                So this is all well and good; what's it like to get going? I've got a great
                handle on Clojure, a good handle on Java, and almost no handle on the JavaScript
                ecosystem. How hard could it be?
              </p>

              <p>
                The answer is: we'll see, but maybe very.
              </p>
            </div>

            <ul class="org-ul"><li><a id="org755626a"></a>Setting up a project<br /><div class="outline-text-5" id="text-org755626a">
                  <p>
                    This part? Easy as can be. Our old friend leiningen has templates for
                    ClojureScript projects, with or without Figwheel. Figwheel does nothing we need
                    for a stand-alone CLI project, so we skip it. There's some minimal tweaking
                    needed in our <code>project.clj</code>, but it really is minimal. A very short distance in
                    and I have a tiny app that compiles and runs with node.
                  </p>

                  <p>
                    &#x2026;except that I've also found that I should have a build.clj file? Which I
                    don't, and yet, everything is, so far, working. So that's&#x2026; that's unsettling.
                  </p>
              </div></li>

              <li><a id="org82bd5c8"></a>OK, now what<br /><div class="outline-text-5" id="text-org82bd5c8">
                  <p>
                    Next task: how do I read a file? Surely this'll be easy, right?
                  </p>
              </div></li>

              <li><a id="orgb7d33d1"></a>But wait<br /><div class="outline-text-5" id="text-orgb7d33d1">
                  <p>
                    It turns out, connecting figwheel is actually necessary, <i>for some reason</i>. I
                    cannot understand why, but when I attempt to connect CIDER to a project without
                    figwheel connected, it explodes. Grand.
                  </p>

                  <p>
                    And: I cannot seem to get it to work, for love or money. I've been fighting it
                    for two hours.
                  </p>

                  <p>
                    <i>Some Time Passes</i>
                  </p>

                  <p>
                    Got it. Past Ross was a clever lad and hard-coded figwheel as the REPL type in
                    his Clojure emacs configs. Goddamnit. So. Much.
                  </p>

                  <p>
                    Finally switched to a Node repl, everything is Flying along.
                  </p>
              </div></li>

              <li><a id="orgf7cd9e8"></a>Really actually getting going<br /><div class="outline-text-5" id="text-orgf7cd9e8">
                  <p>
                    Here we begin to see the true weird part of ClojureScript for me: the runtime.
                  </p>

                  <p>
                    I've written a bunch of Java and lots of both Scala and Clojure. For those
                    languages, Java &#x2013; the host language &#x2013; provides a base frame of reference
                    for&#x2026; mostly everything. Scala is probably the most divergent, but host interop
                    is still big; in Clojure we go to Java all the time (e.g. <code>clojure.java.io</code>). I've
                    done this before with F#, where .NET provides a great deal of core
                    functionality.
                  </p>

                  <p>
                    In ClojureScript, we're going instead to Node, and it is&#x2026; different. .NET has
                    a lot of ideas in common with Java &#x2013; or at least, both ideas are using very
                    similar core concepts. Want to read a file? Here's a class that'll hand you one
                    line at a time. But Node is deeply and profoundly async and event-driven. Vis:
                  </p>

                  <div class="org-src-container">
                    <pre class="src src-clojure">(defn count-file [path]
                      (let [status (atom 0)
                      input (.createReadStream fs path)
                      rl (open-line-reader input)]
                      (.on rl "line" #(swap! status inc))
                      (.on rl "close" #(println @status))))
                    </pre>
                  </div>

                  <p>
                    We open a file interface, and then take action every time we get a <code>line</code> event
                    (which is of course identified by a string name b/c JavaScript).
                  </p>

                  <p>
                    Sooooooooo.
                  </p>

                  <p>
                    This presents two challenges:
                  </p>

                  <ol class="org-ol">
                    <li>The tooling present for my kind of work is not rich in CLJS land.</li>
                    <li>Node presents some metaphors built for very different work than mine.</li>
                  </ol>

                  <p>
                    Can I write wrappers that get the Stuff done? That's the question.
                  </p>
              </div></li>

              <li><a id="org42506f7"></a>Reading lines<br /><div class="outline-text-5" id="text-org42506f7">
                  <p>
                    For our first trick: reading lines. You know what a great abstraction I love is?
                    Clojure's <code>core.async</code>. Reading lines in to a channel is magnificently easy.
                  </p>
              </div></li>

              <li><a id="org9ba9518"></a>Parsing Lines<br /><div class="outline-text-5" id="text-org9ba9518">
                  <p>
                    Parsing turns out to have an advantage: I can re-use a good deal of my code from
                    my reference implementation.
                  </p>
              </div></li>

              <li><a id="org6da725d"></a>Result<br /><div class="outline-text-5" id="text-org6da725d">
                  <p>
                    So. I've gotten the CSV parsing part of this done; it works. It certainly&#x2026;
                    yeah. We can say that for sure.
                  </p>

                  <p>
                    But, there are two things:
                  </p>

                  <ol class="org-ol">
                    <li>Getting this set up so stack traces didn't murder my eyes was <i>awful</i>.</li>
                    <li>It is impossibly slow.</li>
                  </ol>

                  <p>
                    This is not just slow. This is ten or maybe fifteen times slower than the
                    Clojure reference implementation. This&#x2026; no. This wont do. Now, a true fact:
                    I'm not a Node dev. Maybe I've messed this right up? I dunno where in here
                    anything would block, but let's be real &#x2013; making Node go fast is not my core
                    skill set. I could easily have just gotten it wrong.
                  </p>

                  <p>
                    &#x2026;but the code smells right-ish. It is, at least, reasonably clear to me. It
                    was awful to debug, but it was reasonably pleasant to knock together at first.
                  </p>

                  <p>
                    But I am calling it here. ClojureScript will be excellent for web-work, and
                    probably for hitting REST APIs, but for data scrubbing, I'ma, uh, stick with
                    something else.
                  </p>
            </div></li></ul>
          </div>
        </div>

        <div id="outline-container-org630b1c9" class="outline-3">
          <h3 id="org630b1c9"><span class="todo TODO">TODO</span> Julia</h3>
        </div>
        <div id="outline-container-org56d8b98" class="outline-3">
          <h3 id="org56d8b98"><span class="todo TODO">TODO</span> Haskell</h3>
          <div class="outline-text-3" id="text-org56d8b98">
            <p>
              C'mon. I gotta.
            </p>
          </div>
        </div>
      </div>
      <div id="footnotes">
        <h2 class="footnotes">Footnotes: </h2>
        <div id="text-footnotes">

          <div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
                In retrospect: wat.
          </p></div></div>

          <div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">
                Slack has created a JS interface to Apache Spark. When people say,
                "Node.js has incredibly fast file operations," what they really mean is,
                "Node.js provides a clean, easy-to-reason about interface to libuv." libuv is in
                C.
          </p></div></div>

          <div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara">
                I have since found that the linked copy from fsharp.org is a Google
                books editions <i>that is just literal scans of the paper edition</i>. Or: you could
                buy a Real Ebook from <a href="http://www.apress.com/9781484213759?gtmf=s">Apress</a> for $19.19. (Hint: do that second one.)
          </p></div></div>

          <div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4">4</a></sup> <div class="footpara"><p class="footpara">
                ISO-8061 date time without timezone, ISO-8061 date, and RFC-822
          </p></div></div>

          <div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5">5</a></sup> <div class="footpara"><p class="footpara">
                Ah, I have learned why. Even though <code>let</code> introduces an immutable
                identifier, it is <i>not</i> considered constant. However, this syntax can be used to
                tell the compiler, "It's OK, use the literal value of this identifier at
                compile time":
              </p>
              <div class="org-src-container">
                <pre class="src src-fsharp">[&lt;Literal&gt;]
                  let x = "hi"
                </pre>
          </div></div></div>


        </div>
    </div></div>
    <div id="postamble" class="status">
      <p class="author">Author: Ross Donaldson</p>
      <p class="date">Created: 2017-05-23 Tue 21:31</p>
      <p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
    </div>
  </body>
</html>
